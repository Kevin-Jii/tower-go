{"level":"warn","timestamp":"2025-11-07 21:33:15.449","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:386DF31D-5B40-7663-97C0-7673739A9FAA]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"::1"}
{"level":"info","timestamp":"2025-11-07 21:36:36.978","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.071","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.071","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.080","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-07 21:36:37.088","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-07 21:36:37.088","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-07 21:36:53.741","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-07 21:36:53.785","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-07 21:36:54.563","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-07 21:36:54.609","caller":"utils/seed.go:258","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-07 21:36:54.614","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-07 21:36:54.615","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-07 21:36:54.756","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":2,"botName":"全局Stream机器人(自动创建)","clientID":"dinglsqvmdgbj5xaidwz"}
{"level":"error","timestamp":"2025-11-07 21:36:54.761","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-07 21:36:54.762","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-07 21:36:54.765","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-07 22:14:37.919","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"E0960A4A-2F37-7963-9C11-D13EB9EA3393"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:14:37.930","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:E0960A4A-2F37-7963-9C11-D13EB9EA3393]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"::1"}
{"level":"error","timestamp":"2025-11-07 22:20:25.492","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"EB204A05-B1B6-7B59-A0E3-16CF757D8698"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:25.498","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:EB204A05-B1B6-7B59-A0E3-16CF757D8698]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"error","timestamp":"2025-11-07 22:20:28.195","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"F1F4281A-D682-7C6B-8962-0D6FD44AFD1B"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:28.199","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:F1F4281A-D682-7C6B-8962-0D6FD44AFD1B]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"error","timestamp":"2025-11-07 22:20:29.151","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"FC0640EB-646D-7DD0-A30A-54F4A2D86C57"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:29.159","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:FC0640EB-646D-7DD0-A30A-54F4A2D86C57]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"info","timestamp":"2025-11-08 03:02:53.789","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:02:53.893","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:02:53.893","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:02:53.898","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:08:34.691","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:08:34.781","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:08:34.782","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:08:34.792","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:26:01.830","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:26:01.945","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:26:01.945","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:26:01.951","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:37:49.636","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:37:49.743","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:37:49.743","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:37:49.749","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:39:21.299","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:39:21.386","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:39:21.386","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:39:21.398","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:40:03.548","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:40:03.629","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:40:03.629","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:40:03.639","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:44:34.431","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.517","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.517","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.527","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"error","timestamp":"2025-11-08 03:44:34.531","caller":"utils/redis.go:32","msg":"Redis 连接失败","error":"WRONGPASS invalid username-password pair or user is disabled.","stacktrace":"tower-go/utils.InitRedis\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/redis.go:32\ntower-go/bootstrap.InitRedisCache\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/redis.go:12\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:23\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"warn","timestamp":"2025-11-08 03:44:34.531","caller":"bootstrap/redis.go:13","msg":"Redis 连接失败，缓存禁用","error":"WRONGPASS invalid username-password pair or user is disabled."}
{"level":"info","timestamp":"2025-11-08 03:44:51.376","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:44:51.419","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:44:52.184","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 03:44:52.228","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 03:44:52.230","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 03:44:52.230","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:44:52.276","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-08 03:44:52.322","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:44:52.323","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 03:44:52.323","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"info","timestamp":"2025-11-08 03:47:27.137","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.223","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.223","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.231","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-08 03:47:27.237","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-08 03:47:27.237","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-08 03:47:44.012","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.059","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.850","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 03:47:44.893","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 03:47:44.895","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 03:47:44.895","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.942","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-08 03:47:44.988","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:47:44.989","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 03:47:44.989","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"info","timestamp":"2025-11-08 03:57:06.903","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:57:06.987","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:57:06.987","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:57:06.994","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: NO)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:57:55.694","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:57:55.779","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:57:55.779","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:57:55.787","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: NO)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 04:00:00.962","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/config.go:19","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.058","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-08 04:00:01.064","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-08 04:00:01.064","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-08 04:00:17.988","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 04:00:18.036","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 04:00:18.863","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 04:00:18.911","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 04:00:18.918","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 04:00:18.918","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 04:00:19.068","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":3,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-08 04:00:19.079","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 04:00:19.079","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 04:00:19.080","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 04:00:19.080","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-08 04:00:19.254","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"DF7F8F22-7A0C-74ED-B14F-3DA9D6DC5522\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:09:15.651","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:09:15.767","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:09:15.772","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:09:15.772","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:09:32.227","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:09:32.277","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:09:33.065","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:09:33.106","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:09:33.108","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:09:33.108","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:09:33.152","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:09:33.202","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:09:33.360","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"69109328-3CF9-7B85-BC62-6A9AC8E5A319\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:11:06.750","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:11:06.820","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:11:06.825","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:11:06.825","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:11:23.368","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:11:23.413","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:11:24.183","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:11:24.227","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:11:24.230","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:11:24.230","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:11:24.274","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:11:24.475","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"ADBABD2A-FB59-7A43-AAFC-9854F066F055\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:11:59.620","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:11:59.686","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:11:59.692","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:11:59.692","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:12:16.110","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:12:16.154","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:12:16.978","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:12:17.025","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:12:17.032","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:12:17.032","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:12:17.080","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:12:17.127","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:12:17.127","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:12:17.128","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:12:17.128","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:12:17.261","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"3C0E33C5-A6D9-7289-BA37-967F30F11F15\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:17:47.072","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:17:47.135","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:17:47.144","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:17:47.144","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:18:03.217","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:18:03.260","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:18:04.045","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:18:04.087","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:18:04.089","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:18:04.089","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:18:04.136","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:18:04.353","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"D7B4279B-DF54-799C-8F41-E49AC3D653A6\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:20:09.226","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:20:09.295","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:20:09.301","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:20:09.301","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:20:25.299","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:20:25.341","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:20:26.113","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:20:26.156","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:20:26.157","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:20:26.157","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:20:26.201","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:20:26.386","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"1A90A7DD-5FAE-70D1-8A02-56BDF0A0B7F8\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:20:49.961","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:20:50.014","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:20:50.015","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:20:50.015","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:20:50.023","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:20:50.028","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:20:50.028","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:21:06.596","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:21:06.639","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:21:07.448","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:21:07.494","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:21:07.500","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:21:07.500","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:21:07.549","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:21:07.596","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:23:49.275","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:23:49.332","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:23:49.332","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:23:49.332","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:23:49.341","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:23:49.347","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:23:49.347","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:24:06.133","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:24:06.182","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:24:07.019","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:24:07.064","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:24:07.071","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:24:07.072","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:24:07.123","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:24:07.172","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:24:07.173","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:24:07.173","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:24:07.173","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:24:07.325","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"B6BFB78D-B73E-7CD0-9370-68BFD7FF4632\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:41:59.085","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:41:59.159","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:41:59.159","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:41:59.159","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:41:59.167","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:41:59.174","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:41:59.174","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:42:15.156","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:15.201","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:15.987","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:42:16.030","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:42:16.035","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:42:16.035","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:42:16.077","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:42:16.256","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"74FDAF87-4EB3-72FD-A061-D6D742EA42E3\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:42:36.162","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:42:36.224","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:42:36.224","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:42:36.224","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:42:36.232","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:42:36.238","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:42:36.238","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:42:52.679","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:52.727","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:53.543","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:42:53.586","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:42:53.589","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:42:53.589","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:42:53.636","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:42:53.679","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:42:53.679","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:53.680","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:53.680","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:42:53.681","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:43:27.817","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:43:27.878","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:43:27.878","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:43:27.878","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:43:27.886","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:43:27.892","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:43:27.892","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:43:40.700","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:43:40.760","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:43:40.760","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:43:40.760","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:43:40.768","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:43:40.774","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:43:40.774","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:43:57.422","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:43:57.468","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:43:58.312","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:43:58.357","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:43:58.365","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:43:58.365","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:43:58.408","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:43:58.457","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:43:58.458","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:43:58.458","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:43:58.458","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:43:58.459","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:49:00.514","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:49:00.579","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:49:00.580","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:49:00.580","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:49:00.588","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:49:00.598","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:49:00.598","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:49:17.312","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:49:17.360","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:49:18.159","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:49:18.204","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:49:18.206","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:49:18.206","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:49:18.248","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:49:18.296","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:49:18.296","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:49:18.297","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:49:18.297","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:49:18.299","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:50:07.926","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:50:07.989","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:50:07.989","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:50:07.989","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:50:07.997","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:50:08.004","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:50:08.004","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:50:24.325","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:50:24.369","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:50:25.146","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:50:25.188","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:50:25.189","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:50:25.190","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:50:25.235","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:53:53.462","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:53:53.526","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:53:53.526","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:53:53.526","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:53:53.535","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:53:53.545","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:53:53.545","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:54:09.124","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:54:09.174","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:54:09.986","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:54:10.027","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:54:10.030","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:54:10.030","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:54:10.074","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:54:10.121","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:54:10.122","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:54:10.122","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:54:10.123","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:54:10.125","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:07:33.328","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:07:33.392","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:07:33.392","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:07:33.392","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:07:33.401","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:07:33.408","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:07:33.408","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:07:50.870","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:07:50.914","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:07:51.757","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:07:51.803","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:07:51.807","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:07:51.807","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:07:51.856","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:07:51.907","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:07:51.908","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:07:51.908","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:07:51.908","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 22:07:51.910","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:09:14.294","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:09:14.359","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:09:14.359","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:09:14.359","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:09:14.368","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:09:14.375","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:09:14.375","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:09:31.561","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:09:31.607","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:09:32.433","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:09:32.477","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:09:32.481","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:09:32.481","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:09:32.525","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:09:32.570","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:09:32.570","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:09:32.571","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:09:32.571","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:09:32.724","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"4D27AE09-88DC-7325-8F7B-2724BB27E0DC\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:10:35.560","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:10:35.624","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:10:35.624","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:10:35.624","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:10:35.633","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:10:35.643","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:10:35.643","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:10:52.210","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:10:52.256","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:10:53.078","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:10:53.124","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:10:53.126","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:10:53.126","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:10:53.176","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:10:53.218","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:10:53.219","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:10:53.219","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:10:53.219","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:10:53.367","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"52AFDE4B-E9F1-7DBA-80EB-10A2D64ABA97\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:11:20.977","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:11:21.040","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:11:21.040","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:11:21.040","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:11:21.050","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:11:21.056","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:11:21.056","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:11:37.187","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:11:37.233","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:11:38.011","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:11:38.052","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:11:38.058","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:11:38.058","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:11:38.106","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:11:38.154","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:11:38.154","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:11:38.155","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:11:38.155","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:11:38.295","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"401F488C-ED22-759D-ABE1-8D4D4FE561B9\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:29:52.865","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:29:52.931","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:29:52.931","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:29:52.931","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:29:52.943","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:29:52.950","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:29:52.950","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:30:09.445","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:30:09.492","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:30:10.307","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:30:10.353","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:30:10.358","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:30:10.359","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:30:10.409","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:30:10.591","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"6E1EC619-D1D5-7AE9-A8A4-6EA216EA22F8\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:35:42.497","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:35:42.562","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:35:42.562","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:35:42.562","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:35:42.572","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:35:42.579","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:35:42.579","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:35:59.538","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:35:59.585","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:36:00.421","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:36:00.467","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:36:00.473","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:36:00.473","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:36:00.625","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":4,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-09 22:36:00.631","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:36:00.632","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":4,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:36:00.632","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-09 22:36:00.799","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":4,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"69842D8E-77DA-7F94-A8FF-7774F4773C2C\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-10 19:44:24.942","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:44:25.017","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:44:25.017","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:44:25.017","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:44:25.045","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:44:25.060","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:44:25.060","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:44:41.910","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:44:41.956","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:44:42.732","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:44:42.775","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:44:42.778","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:44:42.778","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:44:42.927","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":5,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-10 19:44:42.937","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:44:42.940","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":5,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 19:44:42.941","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-10 19:44:43.106","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":5,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"E9867D28-B815-7F89-BFD1-9AA04A501355\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-10 19:48:57.153","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:48:57.217","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:48:57.217","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:48:57.217","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:48:57.228","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:48:57.235","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:48:57.235","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:49:14.145","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:49:14.195","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:49:15.015","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:49:15.063","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:49:15.069","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:49:15.069","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:49:15.113","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":5,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-10 19:49:15.162","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:49:15.162","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":5,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 19:49:15.162","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-10 19:49:15.311","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":5,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"7EAC6A6E-E2CC-7029-B967-576BC833A651\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-10 19:52:06.492","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:52:06.565","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:52:06.565","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:52:06.565","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:52:06.577","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:52:06.585","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:52:06.585","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:52:24.503","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:52:24.549","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:52:25.349","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:52:25.391","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:52:25.392","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:52:25.392","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:52:25.439","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"error","timestamp":"2025-11-10 19:52:25.493","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:52:25.493","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":0}
{"level":"info","timestamp":"2025-11-10 19:52:57.394","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:52:57.459","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:52:57.459","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:52:57.459","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:52:57.470","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:52:57.478","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:52:57.478","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:53:14.215","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:53:14.258","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:53:15.035","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:53:15.077","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:53:15.078","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:53:15.078","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:53:15.122","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"error","timestamp":"2025-11-10 19:53:15.166","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:53:15.166","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":0}
{"level":"info","timestamp":"2025-11-10 19:55:28.810","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:55:28.877","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:55:28.877","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:55:28.877","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:55:28.887","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:55:28.895","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:55:28.895","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:55:45.577","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:55:45.626","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:55:46.464","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:55:46.512","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:55:46.520","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:55:46.520","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:55:46.566","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 19:55:46.615","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 19:55:46.615","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:10:43.881","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:10:43.971","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:10:43.971","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:10:43.971","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:10:43.980","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:10:43.987","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:10:43.987","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:11:00.163","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:11:00.207","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:11:00.964","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:11:01.009","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:11:01.013","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:11:01.013","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:11:01.058","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:11:01.103","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:11:01.103","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:17:14.204","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:17:14.293","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:17:14.293","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:17:14.293","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:17:14.304","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:17:14.311","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:17:14.311","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:17:30.937","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:17:30.981","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:17:31.788","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:17:31.834","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:17:31.839","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:17:31.839","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:17:31.889","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:17:31.936","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:17:31.936","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:19:44.151","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:19:44.240","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:19:44.240","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:19:44.240","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:19:44.259","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:19:44.269","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:19:44.269","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:20:00.416","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:20:00.461","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:20:01.255","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:20:01.298","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:20:01.300","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:20:01.300","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:20:01.343","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:20:01.387","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:20:01.387","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"fatal","timestamp":"2025-11-10 20:20:01.388","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 20:21:41.354","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:21:41.441","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:21:41.441","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:21:41.441","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:21:41.451","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:21:41.458","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:21:41.458","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:21:57.567","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:21:57.609","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:21:58.376","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:21:58.420","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:21:58.422","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:21:58.422","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:21:58.466","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:21:58.508","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:21:58.509","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:22:57.857","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:22:57.946","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:22:57.946","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:22:57.946","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:22:57.955","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:22:57.962","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:22:57.962","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:23:14.855","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:23:14.906","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:23:15.710","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:23:15.753","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:23:15.757","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:23:15.757","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:23:15.801","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:23:15.845","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:23:15.845","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"fatal","timestamp":"2025-11-10 20:23:15.845","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
