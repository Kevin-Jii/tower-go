basePath: /api/v1
definitions:
  controller.LoginRequest:
    properties:
      password:
        description: 密码至少6位
        minLength: 6
        type: string
      phone:
        description: 手机号必须是11位
        type: string
    required:
    - password
    - phone
    type: object
  controller.LoginResponse:
    properties:
      expires_in:
        description: 过期时间（秒）
        type: integer
      token:
        type: string
      token_type:
        description: 固定 "Bearer"
        type: string
      user_info:
        $ref: '#/definitions/model.User'
    type: object
  model.AssignMenusToRoleReq:
    properties:
      menu_ids:
        items:
          type: integer
        type: array
      role_id:
        type: integer
    required:
    - menu_ids
    - role_id
    type: object
  model.AssignStoreMenusReq:
    properties:
      menu_ids:
        items:
          type: integer
        type: array
      role_id:
        type: integer
      store_id:
        type: integer
    required:
    - menu_ids
    - role_id
    - store_id
    type: object
  model.CopyStoreMenusReq:
    properties:
      from_store_id:
        type: integer
      role_id:
        type: integer
      to_store_id:
        type: integer
    required:
    - from_store_id
    - role_id
    - to_store_id
    type: object
  model.CreateDishReq:
    properties:
      category:
        type: string
      image:
        type: string
      name:
        type: string
      price:
        type: number
      remark:
        type: string
    required:
    - name
    - price
    type: object
  model.CreateMenuReportReq:
    properties:
      dish_id:
        type: integer
      quantity:
        type: integer
      remark:
        type: string
    required:
    - dish_id
    - quantity
    type: object
  model.CreateMenuReq:
    properties:
      component:
        type: string
      icon:
        type: string
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
      permission:
        type: string
      remark:
        type: string
      sort:
        type: integer
      status:
        enum:
        - 0
        - 1
        type: integer
      title:
        type: string
      type:
        enum:
        - 1
        - 2
        - 3
        type: integer
      visible:
        enum:
        - 0
        - 1
        type: integer
    required:
    - name
    - title
    - type
    type: object
  model.CreateStoreReq:
    properties:
      address:
        type: string
      business_hours:
        type: string
      contact_person:
        type: string
      name:
        type: string
      phone:
        type: string
      remark:
        type: string
    required:
    - name
    type: object
  model.CreateUserReq:
    properties:
      email:
        description: 可选，但如果提供则必须是有效的邮箱
        type: string
      password:
        description: 密码至少6位
        minLength: 6
        type: string
      phone:
        description: 手机号验证
        type: string
      username:
        description: 强制要求非空
        type: string
    required:
    - password
    - phone
    - username
    type: object
  model.Dish:
    properties:
      category:
        description: 分类
        type: string
      created_at:
        type: string
      id:
        type: integer
      image:
        description: 图片URL
        type: string
      name:
        description: 菜品名称
        type: string
      price:
        description: 价格
        type: number
      remark:
        description: 备注
        type: string
      status:
        description: 状态：1=上架，2=下架
        type: integer
      store:
        allOf:
        - $ref: '#/definitions/model.Store'
        description: 门店关联
      store_id:
        description: 所属门店 ID
        type: integer
      updated_at:
        type: string
    type: object
  model.Menu:
    properties:
      children:
        description: 关联
        items:
          $ref: '#/definitions/model.Menu'
        type: array
      component:
        type: string
      created_at:
        type: string
      icon:
        type: string
      id:
        type: integer
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
      permission:
        type: string
      remark:
        type: string
      sort:
        type: integer
      status:
        type: integer
      title:
        type: string
      type:
        type: integer
      updated_at:
        type: string
      visible:
        type: integer
    type: object
  model.MenuReport:
    properties:
      created_at:
        type: string
      dish:
        allOf:
        - $ref: '#/definitions/model.Dish'
        description: 菜品关联
      dish_id:
        description: 菜品 ID
        type: integer
      id:
        type: integer
      quantity:
        description: 报菜数量
        type: integer
      remark:
        description: 备注
        type: string
      store:
        allOf:
        - $ref: '#/definitions/model.Store'
        description: 门店关联
      store_id:
        description: 所属门店 ID
        type: integer
      updated_at:
        type: string
      user:
        allOf:
        - $ref: '#/definitions/model.User'
        description: 操作员关联
      user_id:
        description: 操作员 ID
        type: integer
    type: object
  model.MenuReportStats:
    properties:
      avg_qty:
        description: 平均数量
        type: number
      category:
        type: string
      dish_id:
        type: integer
      dish_name:
        type: string
      total_days:
        description: 报菜天数
        type: integer
      total_qty:
        description: 总数量
        type: integer
    type: object
  model.Role:
    properties:
      code:
        description: 角色代码：admin(总部管理员), store_admin(门店管理员), staff(普通员工)
        type: string
      created_at:
        type: string
      description:
        description: 角色描述
        type: string
      id:
        type: integer
      name:
        description: 角色名称
        type: string
      updated_at:
        type: string
    type: object
  model.Store:
    properties:
      address:
        description: 门店地址
        type: string
      business_hours:
        description: 营业时间
        type: string
      contact_person:
        description: 联系人
        type: string
      created_at:
        type: string
      id:
        type: integer
      name:
        description: 门店名称
        type: string
      phone:
        description: 联系电话
        type: string
      remark:
        description: 备注
        type: string
      status:
        description: 状态：1=正常，2=停业
        type: integer
      updated_at:
        type: string
    type: object
  model.UpdateDishReq:
    properties:
      category:
        type: string
      image:
        type: string
      name:
        type: string
      price:
        type: number
      remark:
        type: string
      status:
        type: integer
    type: object
  model.UpdateMenuReportReq:
    properties:
      quantity:
        type: integer
      remark:
        type: string
    type: object
  model.UpdateMenuReq:
    properties:
      component:
        type: string
      icon:
        type: string
      name:
        type: string
      parent_id:
        type: integer
      path:
        type: string
      permission:
        type: string
      remark:
        type: string
      sort:
        type: integer
      status:
        enum:
        - 0
        - 1
        type: integer
      title:
        type: string
      type:
        enum:
        - 1
        - 2
        - 3
        type: integer
      visible:
        enum:
        - 0
        - 1
        type: integer
    type: object
  model.UpdateStoreReq:
    properties:
      address:
        type: string
      business_hours:
        type: string
      contact_person:
        type: string
      name:
        type: string
      phone:
        type: string
      remark:
        type: string
      status:
        description: 使用指针以支持设置为0
        type: integer
    type: object
  model.UpdateUserReq:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      phone:
        type: string
      username:
        type: string
    type: object
  model.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: integer
      last_login_at:
        description: 记录最后登录时间
        type: string
      nickname:
        type: string
      phone:
        type: string
      role:
        allOf:
        - $ref: '#/definitions/model.Role'
        description: 角色关联
      role_id:
        description: '--- 权限管理 (RBAC) ---'
        type: integer
      status:
        description: '--- 状态与安全管理 ---'
        type: integer
      store:
        allOf:
        - $ref: '#/definitions/model.Store'
        description: 门店关联
      store_id:
        description: '--- 门店关联 ---'
        type: integer
      updated_at:
        type: string
      username:
        type: string
    type: object
  utils.Meta:
    properties:
      has_more:
        type: boolean
      page:
        type: integer
      page_count:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
    type: object
  utils.Response:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
  utils.StandardResponse:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
      meta:
        allOf:
        - $ref: '#/definitions/utils.Meta'
        description: 始终返回（为空则为 null），方便前端统一解析
    type: object
host: localhost:10024
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Tower Go 用户管理系统 API 文档
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Tower Go API
  version: "1.0"
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: 用户登录并获取token
      parameters:
      - description: 登录信息
        in: body
        name: login
        required: true
        schema:
          $ref: '#/definitions/controller.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功返回 token、token_type=Bearer、expires_in(秒)
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/controller.LoginResponse'
              type: object
      summary: 用户登录
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: 创建新用户账号
      parameters:
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.CreateUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      summary: 用户注册
      tags:
      - auth
  /dishes:
    get:
      consumes:
      - application/json
      description: 获取当前门店的菜品列表，支持分页
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 菜品分类
        in: query
        name: category
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '分页 meta: total,page,page_size,page_count,has_more'
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Dish'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 菜品列表
      tags:
      - dishes
    post:
      consumes:
      - application/json
      description: 创建新菜品（自动关联当前门店）
      parameters:
      - description: 菜品信息
        in: body
        name: dish
        required: true
        schema:
          $ref: '#/definitions/model.CreateDishReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 创建菜品
      tags:
      - dishes
  /dishes/{id}:
    delete:
      consumes:
      - application/json
      description: 删除菜品
      parameters:
      - description: 菜品ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 删除菜品
      tags:
      - dishes
    get:
      consumes:
      - application/json
      description: 获取菜品详细信息
      parameters:
      - description: 菜品ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/model.Dish'
              type: object
      security:
      - Bearer: []
      summary: 获取菜品详情
      tags:
      - dishes
    put:
      consumes:
      - application/json
      description: 更新菜品信息（含上下架）
      parameters:
      - description: 菜品ID
        in: path
        name: id
        required: true
        type: integer
      - description: 菜品信息
        in: body
        name: dish
        required: true
        schema:
          $ref: '#/definitions/model.UpdateDishReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 更新菜品信息
      tags:
      - dishes
  /menu-reports:
    get:
      consumes:
      - application/json
      description: 获取当前门店的报菜记录列表，支持分页和日期范围筛选
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 开始日期 (YYYY-MM-DD)
        in: query
        name: start_date
        type: string
      - description: 结束日期 (YYYY-MM-DD)
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: '分页 meta: total,page,page_size,page_count,has_more'
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.MenuReport'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 报菜记录列表
      tags:
      - menu-reports
    post:
      consumes:
      - application/json
      description: 创建新的报菜记录（自动关联当前门店和操作员）
      parameters:
      - description: 报菜信息
        in: body
        name: report
        required: true
        schema:
          $ref: '#/definitions/model.CreateMenuReportReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.Response'
      security:
      - Bearer: []
      summary: 创建报菜记录
      tags:
      - menu-reports
  /menu-reports/{id}:
    delete:
      consumes:
      - application/json
      description: 删除报菜记录
      parameters:
      - description: 报菜记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.Response'
      security:
      - Bearer: []
      summary: 删除报菜记录
      tags:
      - menu-reports
    get:
      consumes:
      - application/json
      description: 获取报菜记录详细信息
      parameters:
      - description: 报菜记录ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.Response'
            - properties:
                data:
                  $ref: '#/definitions/model.MenuReport'
              type: object
      security:
      - Bearer: []
      summary: 获取报菜记录详情
      tags:
      - menu-reports
    put:
      consumes:
      - application/json
      description: 更新报菜记录信息
      parameters:
      - description: 报菜记录ID
        in: path
        name: id
        required: true
        type: integer
      - description: 报菜信息
        in: body
        name: report
        required: true
        schema:
          $ref: '#/definitions/model.UpdateMenuReportReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.Response'
      security:
      - Bearer: []
      summary: 更新报菜记录
      tags:
      - menu-reports
  /menu-reports/statistics:
    get:
      consumes:
      - application/json
      description: 获取指定日期范围的报菜统计数据
      parameters:
      - description: 开始日期 (YYYY-MM-DD)
        in: query
        name: start_date
        required: true
        type: string
      - description: 结束日期 (YYYY-MM-DD)
        in: query
        name: end_date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.Response'
            - properties:
                data:
                  $ref: '#/definitions/model.MenuReportStats'
              type: object
      security:
      - Bearer: []
      summary: 获取统计数据
      tags:
      - menu-reports
  /menus:
    get:
      consumes:
      - application/json
      description: 获取所有菜单列表（平铺）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Menu'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 菜单列表
      tags:
      - menus
    post:
      consumes:
      - application/json
      description: 创建新菜单（仅总部管理员）
      parameters:
      - description: 菜单信息
        in: body
        name: menu
        required: true
        schema:
          $ref: '#/definitions/model.CreateMenuReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 创建菜单
      tags:
      - menus
  /menus/{id}:
    delete:
      consumes:
      - application/json
      description: 删除菜单（仅总部管理员）
      parameters:
      - description: 菜单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 删除菜单
      tags:
      - menus
    get:
      consumes:
      - application/json
      description: 获取菜单详细信息
      parameters:
      - description: 菜单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/model.Menu'
              type: object
      security:
      - Bearer: []
      summary: 获取菜单详情
      tags:
      - menus
    put:
      consumes:
      - application/json
      description: 更新菜单信息（仅总部管理员）
      parameters:
      - description: 菜单ID
        in: path
        name: id
        required: true
        type: integer
      - description: 菜单信息
        in: body
        name: menu
        required: true
        schema:
          $ref: '#/definitions/model.UpdateMenuReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 更新菜单
      tags:
      - menus
  /menus/assign-role:
    post:
      consumes:
      - application/json
      description: 为角色分配默认菜单权限（仅总部管理员）
      parameters:
      - description: 分配信息
        in: body
        name: assignment
        required: true
        schema:
          $ref: '#/definitions/model.AssignMenusToRoleReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.Response'
      security:
      - Bearer: []
      summary: 为角色分配菜单
      tags:
      - menus
  /menus/assign-store-role:
    post:
      consumes:
      - application/json
      description: 为特定门店的角色定制菜单权限（总部管理员或门店管理员）
      parameters:
      - description: 分配信息
        in: body
        name: assignment
        required: true
        schema:
          $ref: '#/definitions/model.AssignStoreMenusReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 为门店角色分配菜单
      tags:
      - menus
  /menus/copy-store:
    post:
      consumes:
      - application/json
      description: 将一个门店的菜单配置复制到另一个门店（仅总部管理员）
      parameters:
      - description: 复制信息
        in: body
        name: copy
        required: true
        schema:
          $ref: '#/definitions/model.CopyStoreMenusReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 复制门店菜单权限
      tags:
      - menus
  /menus/role:
    get:
      consumes:
      - application/json
      description: 获取角色的默认菜单权限（树形结构）
      parameters:
      - description: 角色ID
        in: query
        name: role_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Menu'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 获取角色菜单
      tags:
      - menus
  /menus/role-ids:
    get:
      consumes:
      - application/json
      description: 获取角色的所有菜单ID（用于权限回显）
      parameters:
      - description: 角色ID
        in: query
        name: role_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    type: integer
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 获取角色菜单ID列表
      tags:
      - menus
  /menus/store-role:
    get:
      consumes:
      - application/json
      description: 获取特定门店角色的菜单权限（树形结构）
      parameters:
      - description: 门店ID
        in: query
        name: store_id
        required: true
        type: integer
      - description: 角色ID
        in: query
        name: role_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Menu'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 获取门店角色菜单
      tags:
      - menus
  /menus/store-role-ids:
    get:
      consumes:
      - application/json
      description: 获取门店角色的所有菜单ID（用于权限回显）
      parameters:
      - description: 门店ID
        in: query
        name: store_id
        required: true
        type: integer
      - description: 角色ID
        in: query
        name: role_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    type: integer
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 获取门店角色菜单ID列表
      tags:
      - menus
  /menus/tree:
    get:
      consumes:
      - application/json
      description: 获取菜单树形结构
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Menu'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 菜单树形结构
      tags:
      - menus
  /menus/user-menus:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的菜单树（用于渲染后台侧边栏）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Menu'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 获取当前用户菜单
      tags:
      - menus
  /menus/user-permissions:
    get:
      consumes:
      - application/json
      description: 获取当前用户所有可访问的权限标识（用于前端按钮级权限控制）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 获取当前用户权限标识列表
      tags:
      - menus
  /stores:
    get:
      consumes:
      - application/json
      description: 获取门店列表，支持分页
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: '分页 meta: total,page,page_size,page_count,has_more'
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.Store'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 门店列表
      tags:
      - stores
    post:
      consumes:
      - application/json
      description: 创建新门店（仅总部管理员）
      parameters:
      - description: 门店信息
        in: body
        name: store
        required: true
        schema:
          $ref: '#/definitions/model.CreateStoreReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 创建门店
      tags:
      - stores
  /stores/{id}:
    delete:
      consumes:
      - application/json
      description: 删除门店（仅总部管理员）
      parameters:
      - description: 门店ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 删除门店
      tags:
      - stores
    get:
      consumes:
      - application/json
      description: 获取门店详细信息
      parameters:
      - description: 门店ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/model.Store'
              type: object
      security:
      - Bearer: []
      summary: 获取门店详情
      tags:
      - stores
    put:
      consumes:
      - application/json
      description: 更新门店信息（仅总部管理员）
      parameters:
      - description: 门店ID
        in: path
        name: id
        required: true
        type: integer
      - description: 门店信息
        in: body
        name: store
        required: true
        schema:
          $ref: '#/definitions/model.UpdateStoreReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 更新门店信息
      tags:
      - stores
  /users:
    get:
      consumes:
      - application/json
      description: 获取用户列表，支持分页
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: '分页 meta: total,page,page_size,page_count,has_more'
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/model.User'
                  type: array
              type: object
      security:
      - Bearer: []
      summary: 用户列表
      tags:
      - users
    post:
      consumes:
      - application/json
      description: 创建新用户
      parameters:
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.CreateUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 创建用户
      tags:
      - users
  /users/{id}:
    delete:
      consumes:
      - application/json
      description: 删除用户
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 删除用户
      tags:
      - users
    get:
      consumes:
      - application/json
      description: 获取用户详情
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/model.User'
              type: object
      security:
      - Bearer: []
      summary: 获取用户
      tags:
      - users
    put:
      consumes:
      - application/json
      description: 更新用户信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.UpdateUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 更新用户
      tags:
      - users
  /users/profile:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.StandardResponse'
            - properties:
                data:
                  $ref: '#/definitions/model.User'
              type: object
      security:
      - Bearer: []
      summary: 获取用户个人信息
      tags:
      - users
    put:
      consumes:
      - application/json
      description: 更新当前登录用户的个人信息
      parameters:
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.UpdateUserReq'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/utils.StandardResponse'
      security:
      - Bearer: []
      summary: 更新个人信息
      tags:
      - users
schemes:
- http
- https
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
