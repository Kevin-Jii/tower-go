# èœå•è·¯ç”±ç³»ç»Ÿè¯´æ˜

## ğŸ“‹ å·²å®ŒæˆåŠŸèƒ½

### 1. æ›´æ–°èœå•æ¨¡å‹ (models.dart)
- âœ… æ·»åŠ  `parent_id` å­—æ®µæ˜ å°„
- âœ… æ·»åŠ  `remark`ã€`created_at`ã€`updated_at` å­—æ®µ
- âœ… æ”¯æŒå®Œæ•´çš„åç«¯å“åº”æ ¼å¼

### 2. åˆ›å»ºè·¯ç”±ç®¡ç†å™¨ (route_manager.dart)
- âœ… æ ¹æ® `component` å­—æ®µåŠ¨æ€åŒ¹é…é¡µé¢
- âœ… æ”¯æŒä»¥ä¸‹æ¨¡å—ï¼š
  - ç³»ç»Ÿç®¡ç†ï¼šç”¨æˆ·/è§’è‰²/èœå•
  - é—¨åº—ç®¡ç†ï¼šé—¨åº—åˆ—è¡¨
  - èœå“ç®¡ç†ï¼šèœå“åˆ—è¡¨
  - æŠ¥èœç®¡ç†ï¼šæŠ¥èœè®°å½•ã€æ•°æ®ç»Ÿè®¡
- âœ… è‡ªåŠ¨å›¾æ ‡æ˜ å°„ï¼ˆicon å­—æ®µï¼‰
- âœ… å ä½é¡µé¢ï¼ˆå¾…å®ç°é¡µé¢çš„ä¸´æ—¶å±•ç¤ºï¼‰

### 3. é›†æˆåˆ° MenuContent
- âœ… è‡ªåŠ¨åŠ è½½å¯¹åº”é¡µé¢
- âœ… ä¼˜é›…é™çº§ï¼ˆæ— åŒ¹é…é¡µé¢æ—¶æ˜¾ç¤ºæç¤ºï¼‰

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### èœå•æ•°æ®æ ¼å¼
åç«¯è¿”å›çš„èœå•æ•°æ®æ ¼å¼ï¼š
```json
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "parent_id": 0,
      "name": "system",
      "title": "ç³»ç»Ÿç®¡ç†",
      "icon": "setting",
      "path": "",
      "component": "",
      "type": 1,  // 1=ç›®å½•, 2=èœå•, 3=æŒ‰é’®
      "children": [...]
    }
  ]
}
```

### é¡µé¢ç»„ä»¶è·¯å¾„æ˜ å°„
| component | é¡µé¢ | çŠ¶æ€ |
|-----------|------|------|
| `system/user/index` | ç”¨æˆ·ç®¡ç† | ğŸš§ å ä½ |
| `system/role/index` | è§’è‰²ç®¡ç† | ğŸš§ å ä½ |
| `system/menu/index` | èœå•ç®¡ç† | ğŸš§ å ä½ |
| `store/list/index` | é—¨åº—åˆ—è¡¨ | ğŸš§ å ä½ |
| `dish/list/index` | èœå“åˆ—è¡¨ | ğŸš§ å ä½ |
| `report/list/index` | æŠ¥èœè®°å½• | ğŸš§ å ä½ |
| `report/statistics/index` | æ•°æ®ç»Ÿè®¡ | ğŸš§ å ä½ |

### å›¾æ ‡æ˜ å°„
| icon | Flutter IconData |
|------|-----------------|
| setting | Icons.settings |
| user | Icons.person |
| team | Icons.group |
| menu | Icons.menu_book |
| shop | Icons.store |
| unordered-list | Icons.list |
| coffee | Icons.restaurant_menu |
| file-text | Icons.description |
| bar-chart | Icons.bar_chart |

## ğŸ”§ æ·»åŠ æ–°é¡µé¢

### æ­¥éª¤ 1: åˆ›å»ºé¡µé¢æ–‡ä»¶
```dart
// lib/features/system/user/user_page.dart
import 'package:flutter/material.dart';

class UserPage extends StatelessWidget {
  const UserPage({super.key});
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('ç”¨æˆ·ç®¡ç†')),
      body: Center(child: Text('ç”¨æˆ·ç®¡ç†é¡µé¢')),
    );
  }
}
```

### æ­¥éª¤ 2: åœ¨ RouteManager ä¸­æ³¨å†Œ
```dart
// lib/core/routes/route_manager.dart
import '../../features/system/user/user_page.dart';

case 'system/user/index':
  return const UserPage();  // æ›¿æ¢å ä½é¡µé¢
```

### æ­¥éª¤ 3: æµ‹è¯•
1. é‡å¯åº”ç”¨
2. ç‚¹å‡»å·¦ä¾§èœå•"ç”¨æˆ·ç®¡ç†"
3. å³ä¾§åº”æ˜¾ç¤ºæ–°åˆ›å»ºçš„é¡µé¢

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ core/
â”‚   â””â”€â”€ routes/
â”‚       â””â”€â”€ route_manager.dart        # è·¯ç”±ç®¡ç†å™¨ï¼ˆæ–°å¢ï¼‰
â”‚
â””â”€â”€ features/
    â”œâ”€â”€ home/
    â”‚   â””â”€â”€ widgets/
    â”‚       â””â”€â”€ menu_content.dart     # å·²æ›´æ–°ï¼šä½¿ç”¨è·¯ç”±ç®¡ç†å™¨
    â”‚
    â”œâ”€â”€ menu/
    â”‚   â”œâ”€â”€ models.dart               # å·²æ›´æ–°ï¼šæ”¯æŒå®Œæ•´å­—æ®µ
    â”‚   â”œâ”€â”€ menu_provider.dart        # èœå•çŠ¶æ€ç®¡ç†
    â”‚   â””â”€â”€ menu_tree.dart            # èœå•æ ‘æ¸²æŸ“
    â”‚
    â”œâ”€â”€ system/                        # ç³»ç»Ÿç®¡ç†æ¨¡å—ï¼ˆå¾…åˆ›å»ºï¼‰
    â”‚   â”œâ”€â”€ user/
    â”‚   â”œâ”€â”€ role/
    â”‚   â””â”€â”€ menu/
    â”‚
    â”œâ”€â”€ store/                         # é—¨åº—ç®¡ç†æ¨¡å—ï¼ˆå¾…åˆ›å»ºï¼‰
    â”œâ”€â”€ dish/                          # èœå“ç®¡ç†æ¨¡å—ï¼ˆå¾…åˆ›å»ºï¼‰
    â””â”€â”€ report/                        # æŠ¥èœç®¡ç†æ¨¡å—ï¼ˆå¾…åˆ›å»ºï¼‰
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. èœå•ä¸æ˜¾ç¤º
**åŸå› **: åç«¯æ•°æ®æ ¼å¼ä¸åŒ¹é…
**è§£å†³**: 
- æ£€æŸ¥ `parent_id` å­—æ®µæ˜¯å¦å­˜åœ¨
- ç¡®è®¤ `type` å­—æ®µï¼š1=ç›®å½•ã€2=èœå•ã€3=æŒ‰é’®
- æŒ‰é’®ç±»å‹ä¼šè¢«è¿‡æ»¤æ‰

### 2. ç‚¹å‡»èœå•æ— ååº”
**åŸå› **: `component` å­—æ®µä¸ºç©ºæˆ–æœªåŒ¹é…
**è§£å†³**:
- ç¡®ä¿ `type=2` çš„èœå•æœ‰ `component` å€¼
- åœ¨ RouteManager ä¸­æ·»åŠ å¯¹åº”çš„ case

### 3. å›¾æ ‡ä¸æ˜¾ç¤º
**åŸå› **: å›¾æ ‡åç§°æœªæ˜ å°„
**è§£å†³**:
- åœ¨ `_getIconForModule` æ–¹æ³•ä¸­æ·»åŠ å›¾æ ‡æ˜ å°„

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ
- [ ] å®ç°ç”¨æˆ·ç®¡ç†é¡µé¢ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- [ ] å®ç°è§’è‰²ç®¡ç†é¡µé¢
- [ ] å®ç°èœå•ç®¡ç†é¡µé¢ï¼ˆæ ‘å½¢ç»“æ„ï¼‰

### ä¸­æœŸ
- [ ] å®ç°é—¨åº—åˆ—è¡¨é¡µé¢
- [ ] å®ç°èœå“åˆ—è¡¨é¡µé¢
- [ ] å®ç°æŠ¥èœè®°å½•é¡µé¢
- [ ] å®ç°æ•°æ®ç»Ÿè®¡é¡µé¢ï¼ˆå›¾è¡¨ï¼‰

### é•¿æœŸ
- [ ] ä½¿ç”¨ go_router æ›¿ä»£ç®€å•è·¯ç”±
- [ ] æ·»åŠ é¢åŒ…å±‘å¯¼èˆª
- [ ] æ·»åŠ æ ‡ç­¾é¡µåŠŸèƒ½ï¼ˆå¤šé¡µé¢åˆ‡æ¢ï¼‰
- [ ] é¡µé¢æƒé™æ§åˆ¶ï¼ˆåŸºäº permission å­—æ®µï¼‰
