{"level":"warn","timestamp":"2025-11-07 21:33:15.449","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:386DF31D-5B40-7663-97C0-7673739A9FAA]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"::1"}
{"level":"info","timestamp":"2025-11-07 21:36:36.978","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.071","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.071","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.080","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-07 21:36:37.088","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-07 21:36:37.088","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-07 21:36:53.741","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-07 21:36:53.785","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-07 21:36:54.563","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-07 21:36:54.609","caller":"utils/seed.go:258","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-07 21:36:54.614","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-07 21:36:54.615","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-07 21:36:54.756","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":2,"botName":"全局Stream机器人(自动创建)","clientID":"dinglsqvmdgbj5xaidwz"}
{"level":"error","timestamp":"2025-11-07 21:36:54.761","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-07 21:36:54.762","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-07 21:36:54.765","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-07 22:14:37.919","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"E0960A4A-2F37-7963-9C11-D13EB9EA3393"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:14:37.930","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:E0960A4A-2F37-7963-9C11-D13EB9EA3393]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"::1"}
{"level":"error","timestamp":"2025-11-07 22:20:25.492","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"EB204A05-B1B6-7B59-A0E3-16CF757D8698"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:25.498","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:EB204A05-B1B6-7B59-A0E3-16CF757D8698]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"error","timestamp":"2025-11-07 22:20:28.195","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"F1F4281A-D682-7C6B-8962-0D6FD44AFD1B"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:28.199","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:F1F4281A-D682-7C6B-8962-0D6FD44AFD1B]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"error","timestamp":"2025-11-07 22:20:29.151","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"FC0640EB-646D-7DD0-A30A-54F4A2D86C57"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:29.159","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:FC0640EB-646D-7DD0-A30A-54F4A2D86C57]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"info","timestamp":"2025-11-08 03:02:53.789","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:02:53.893","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:02:53.893","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:02:53.898","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:08:34.691","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:08:34.781","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:08:34.782","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:08:34.792","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:26:01.830","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:26:01.945","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:26:01.945","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:26:01.951","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:37:49.636","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:37:49.743","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:37:49.743","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:37:49.749","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:39:21.299","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:39:21.386","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:39:21.386","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:39:21.398","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:40:03.548","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:40:03.629","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:40:03.629","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:40:03.639","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:44:34.431","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.517","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.517","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.527","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"error","timestamp":"2025-11-08 03:44:34.531","caller":"utils/redis.go:32","msg":"Redis 连接失败","error":"WRONGPASS invalid username-password pair or user is disabled.","stacktrace":"tower-go/utils.InitRedis\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/redis.go:32\ntower-go/bootstrap.InitRedisCache\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/redis.go:12\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:23\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"warn","timestamp":"2025-11-08 03:44:34.531","caller":"bootstrap/redis.go:13","msg":"Redis 连接失败，缓存禁用","error":"WRONGPASS invalid username-password pair or user is disabled."}
{"level":"info","timestamp":"2025-11-08 03:44:51.376","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:44:51.419","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:44:52.184","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 03:44:52.228","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 03:44:52.230","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 03:44:52.230","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:44:52.276","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-08 03:44:52.322","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:44:52.323","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 03:44:52.323","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"info","timestamp":"2025-11-08 03:47:27.137","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.223","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.223","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.231","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-08 03:47:27.237","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-08 03:47:27.237","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-08 03:47:44.012","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.059","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.850","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 03:47:44.893","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 03:47:44.895","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 03:47:44.895","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.942","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-08 03:47:44.988","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:47:44.989","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 03:47:44.989","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"info","timestamp":"2025-11-08 03:57:06.903","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:57:06.987","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:57:06.987","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:57:06.994","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: NO)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:57:55.694","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:57:55.779","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:57:55.779","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:57:55.787","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: NO)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 04:00:00.962","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/config.go:19","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.058","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-08 04:00:01.064","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-08 04:00:01.064","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-08 04:00:17.988","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 04:00:18.036","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 04:00:18.863","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 04:00:18.911","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 04:00:18.918","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 04:00:18.918","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 04:00:19.068","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":3,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-08 04:00:19.079","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 04:00:19.079","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 04:00:19.080","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 04:00:19.080","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-08 04:00:19.254","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"DF7F8F22-7A0C-74ED-B14F-3DA9D6DC5522\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:09:15.651","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:09:15.767","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:09:15.772","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:09:15.772","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:09:32.227","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:09:32.277","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:09:33.065","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:09:33.106","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:09:33.108","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:09:33.108","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:09:33.152","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:09:33.202","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:09:33.360","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"69109328-3CF9-7B85-BC62-6A9AC8E5A319\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:11:06.750","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:11:06.820","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:11:06.825","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:11:06.825","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:11:23.368","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:11:23.413","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:11:24.183","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:11:24.227","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:11:24.230","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:11:24.230","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:11:24.274","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:11:24.475","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"ADBABD2A-FB59-7A43-AAFC-9854F066F055\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:11:59.620","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:11:59.686","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:11:59.692","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:11:59.692","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:12:16.110","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:12:16.154","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:12:16.978","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:12:17.025","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:12:17.032","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:12:17.032","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:12:17.080","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:12:17.127","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:12:17.127","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:12:17.128","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:12:17.128","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:12:17.261","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"3C0E33C5-A6D9-7289-BA37-967F30F11F15\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:17:47.072","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:17:47.135","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:17:47.144","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:17:47.144","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:18:03.217","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:18:03.260","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:18:04.045","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:18:04.087","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:18:04.089","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:18:04.089","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:18:04.136","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:18:04.353","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"D7B4279B-DF54-799C-8F41-E49AC3D653A6\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:20:09.226","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:20:09.295","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:20:09.301","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:20:09.301","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:20:25.299","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:20:25.341","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:20:26.113","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:20:26.156","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:20:26.157","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:20:26.157","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:20:26.201","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:20:26.386","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"1A90A7DD-5FAE-70D1-8A02-56BDF0A0B7F8\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:20:49.961","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:20:50.014","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:20:50.015","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:20:50.015","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:20:50.023","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:20:50.028","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:20:50.028","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:21:06.596","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:21:06.639","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:21:07.448","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:21:07.494","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:21:07.500","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:21:07.500","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:21:07.549","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:21:07.596","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
