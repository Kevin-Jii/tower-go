{"level":"warn","timestamp":"2025-11-07 21:33:15.449","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:386DF31D-5B40-7663-97C0-7673739A9FAA]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"::1"}
{"level":"info","timestamp":"2025-11-07 21:36:36.978","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.071","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.071","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-07 21:36:37.080","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-07 21:36:37.088","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-07 21:36:37.088","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-07 21:36:53.741","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-07 21:36:53.785","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-07 21:36:54.563","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-07 21:36:54.609","caller":"utils/seed.go:258","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-07 21:36:54.614","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-07 21:36:54.615","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-07 21:36:54.756","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":2,"botName":"全局Stream机器人(自动创建)","clientID":"dinglsqvmdgbj5xaidwz"}
{"level":"error","timestamp":"2025-11-07 21:36:54.761","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-07 21:36:54.762","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-07 21:36:54.765","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-07 22:14:37.919","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"E0960A4A-2F37-7963-9C11-D13EB9EA3393"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:14:37.930","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:E0960A4A-2F37-7963-9C11-D13EB9EA3393]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"::1"}
{"level":"error","timestamp":"2025-11-07 22:20:25.492","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"EB204A05-B1B6-7B59-A0E3-16CF757D8698"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:25.498","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:EB204A05-B1B6-7B59-A0E3-16CF757D8698]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"error","timestamp":"2025-11-07 22:20:28.195","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"F1F4281A-D682-7C6B-8962-0D6FD44AFD1B"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:28.199","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:F1F4281A-D682-7C6B-8962-0D6FD44AFD1B]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"error","timestamp":"2025-11-07 22:20:29.151","caller":"service/dingtalk.go:192","msg":"Failed to get access token from DingTalk","clientID":"","response":{"code":"invalidClientIdOrSecret","message":"无效的clientId或者clientSecret","requestid":"FC0640EB-646D-7DD0-A30A-54F4A2D86C57"},"stacktrace":"tower-go/service.(*DingTalkService).sendStreamMarkdown\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:192\ntower-go/service.(*DingTalkService).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk.go:564\ntower-go/controller.(*DingTalkBotController).TestBot\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/controller/dingtalk_bot.go:237\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.RegisterRoutes.AuthMiddleware.func4\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/auth.go:44\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ntower-go/bootstrap.Run.RequestLoggerMiddleware.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/middleware/request_logger.go:38\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/Administrator/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Application/go/src/net/http/server.go:3340\nnet/http.(*conn).serve\n\tC:/Program Files/Application/go/src/net/http/server.go:2109"}
{"level":"warn","timestamp":"2025-11-07 22:20:29.159","caller":"utils/response.go:120","msg":"Error Response","code":500,"message":"failed to get access token: failed to get access token: map[code:invalidClientIdOrSecret message:无效的clientId或者clientSecret requestid:FC0640EB-646D-7DD0-A30A-54F4A2D86C57]","path":"/api/v1/dingtalk/robots/1/test","method":"POST","ip":"127.0.0.1"}
{"level":"info","timestamp":"2025-11-08 03:02:53.789","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:02:53.893","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:02:53.893","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:02:53.898","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:08:34.691","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:08:34.781","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:08:34.782","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:08:34.792","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:26:01.830","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:26:01.945","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:26:01.945","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:26:01.951","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:37:49.636","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:37:49.743","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:37:49.743","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:37:49.749","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:39:21.299","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:39:21.386","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:39:21.386","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:39:21.398","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:40:03.548","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:40:03.629","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:40:03.629","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:40:03.639","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: YES)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:44:34.431","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.517","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.517","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 03:44:34.527","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"error","timestamp":"2025-11-08 03:44:34.531","caller":"utils/redis.go:32","msg":"Redis 连接失败","error":"WRONGPASS invalid username-password pair or user is disabled.","stacktrace":"tower-go/utils.InitRedis\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/redis.go:32\ntower-go/bootstrap.InitRedisCache\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/redis.go:12\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:23\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"warn","timestamp":"2025-11-08 03:44:34.531","caller":"bootstrap/redis.go:13","msg":"Redis 连接失败，缓存禁用","error":"WRONGPASS invalid username-password pair or user is disabled."}
{"level":"info","timestamp":"2025-11-08 03:44:51.376","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:44:51.419","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:44:52.184","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 03:44:52.228","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 03:44:52.230","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 03:44:52.230","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:44:52.276","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-08 03:44:52.322","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:44:52.323","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 03:44:52.323","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"info","timestamp":"2025-11-08 03:47:27.137","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.223","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.223","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 03:47:27.231","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-08 03:47:27.237","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-08 03:47:27.237","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-08 03:47:44.012","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.059","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.850","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 03:47:44.893","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 03:47:44.895","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 03:47:44.895","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:47:44.942","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-08 03:47:44.988","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:47:44.989","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 03:47:44.989","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"info","timestamp":"2025-11-08 03:57:06.903","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:57:06.987","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:57:06.987","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:57:06.994","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: NO)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 03:57:55.694","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 03:57:55.779","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 03:57:55.779","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-08 03:57:55.787","caller":"bootstrap/database.go:13","msg":"数据库连接失败","error":"Error 1045 (28000): Access denied for user 'root'@'172.17.0.1' (using password: NO)","stacktrace":"tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:13\ntower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 04:00:00.962","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/config.go:19","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-08 04:00:01.050","caller":"bootstrap/config.go:22","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-08 04:00:01.058","caller":"bootstrap/database.go:15","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-08 04:00:01.064","caller":"utils/redis.go:38","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-08 04:00:01.064","caller":"bootstrap/redis.go:17","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-08 04:00:17.988","caller":"bootstrap/migrate.go:38","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-08 04:00:18.036","caller":"bootstrap/migrate.go:43","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-08 04:00:18.863","caller":"utils/seed.go:114","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-08 04:00:18.911","caller":"utils/seed.go:266","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-08 04:00:18.918","caller":"utils/seed_dingtalk_menus.go:19","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-08 04:00:18.918","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-08 04:00:19.068","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":3,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-08 04:00:19.079","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-08 04:00:19.079","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 04:00:19.080","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-08 04:00:19.080","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-08 04:00:19.254","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"DF7F8F22-7A0C-74ED-B14F-3DA9D6DC5522\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:09:15.651","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:09:15.754","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:09:15.767","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:09:15.772","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:09:15.772","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:09:32.227","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:09:32.277","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:09:33.065","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:09:33.106","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:09:33.108","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:09:33.108","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:09:33.152","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:09:33.202","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:09:33.203","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:09:33.360","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"69109328-3CF9-7B85-BC62-6A9AC8E5A319\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:11:06.750","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:11:06.811","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:11:06.820","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:11:06.825","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:11:06.825","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:11:23.368","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:11:23.413","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:11:24.183","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:11:24.227","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:11:24.230","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:11:24.230","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:11:24.274","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:11:24.322","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:11:24.475","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"ADBABD2A-FB59-7A43-AAFC-9854F066F055\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:11:59.620","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:11:59.679","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:11:59.686","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:11:59.692","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:11:59.692","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:12:16.110","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:12:16.154","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:12:16.978","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:12:17.025","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:12:17.032","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:12:17.032","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:12:17.080","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:12:17.127","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:12:17.127","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:12:17.128","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:12:17.128","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:12:17.261","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"3C0E33C5-A6D9-7289-BA37-967F30F11F15\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:17:47.072","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:17:47.125","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:17:47.135","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:17:47.144","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:17:47.144","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:18:03.217","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:18:03.260","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:18:04.045","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:18:04.087","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:18:04.089","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:18:04.089","caller":"bootstrap/app.go:30","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:18:04.136","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/app.go:39","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:39\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:18:04.185","caller":"bootstrap/app.go:39","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:18:04.353","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"D7B4279B-DF54-799C-8F41-E49AC3D653A6\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:20:09.226","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:20:09.286","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:20:09.295","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:20:09.301","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:20:09.301","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:20:25.299","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:20:25.341","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:20:26.113","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:20:26.156","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:20:26.157","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:20:26.157","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:20:26.201","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:20:26.245","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:20:26.386","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"1A90A7DD-5FAE-70D1-8A02-56BDF0A0B7F8\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:20:49.961","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:20:50.014","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:20:50.015","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:20:50.015","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:20:50.023","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:20:50.028","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:20:50.028","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:21:06.596","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:21:06.639","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:21:07.448","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:21:07.494","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:21:07.500","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:21:07.500","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:21:07.549","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:21:07.594","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:21:07.596","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:23:49.275","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:23:49.332","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:23:49.332","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:23:49.332","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:23:49.341","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:23:49.347","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:23:49.347","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:24:06.133","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:24:06.182","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:24:07.019","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:24:07.064","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:24:07.071","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:24:07.072","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:24:07.123","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:24:07.172","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:24:07.173","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:24:07.173","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:24:07.173","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:24:07.325","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"B6BFB78D-B73E-7CD0-9370-68BFD7FF4632\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:41:59.085","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:41:59.159","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:41:59.159","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:41:59.159","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:41:59.167","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:41:59.174","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:41:59.174","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:42:15.156","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:15.201","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:15.987","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:42:16.030","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:42:16.035","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:42:16.035","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:42:16.077","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:16.121","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 21:42:16.256","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"74FDAF87-4EB3-72FD-A061-D6D742EA42E3\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 21:42:36.162","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:42:36.224","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:42:36.224","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:42:36.224","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:42:36.232","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:42:36.238","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:42:36.238","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:42:52.679","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:52.727","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:42:53.543","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:42:53.586","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:42:53.589","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:42:53.589","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:42:53.636","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:42:53.679","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:42:53.679","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:53.680","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:42:53.680","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:42:53.681","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:43:27.817","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:43:27.878","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:43:27.878","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:43:27.878","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:43:27.886","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:43:27.892","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:43:27.892","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:43:40.700","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:43:40.760","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:43:40.760","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:43:40.760","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:43:40.768","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:43:40.774","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:43:40.774","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:43:57.422","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:43:57.468","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:43:58.312","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:43:58.357","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:43:58.365","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:43:58.365","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:43:58.408","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:43:58.457","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:43:58.458","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:43:58.458","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:43:58.458","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:43:58.459","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:49:00.514","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:49:00.579","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:49:00.580","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:49:00.580","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:49:00.588","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:49:00.598","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:49:00.598","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:49:17.312","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:49:17.360","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:49:18.159","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:49:18.204","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:49:18.206","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:49:18.206","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:49:18.248","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:49:18.296","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:49:18.296","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:49:18.297","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:49:18.297","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:49:18.299","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:50:07.926","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:50:07.989","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:50:07.989","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:50:07.989","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:50:07.997","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:50:08.004","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:50:08.004","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:50:24.325","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:50:24.369","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:50:25.146","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:50:25.188","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:50:25.189","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:50:25.190","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:50:25.235","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:50:25.276","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:53:53.462","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 21:53:53.526","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 21:53:53.526","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 21:53:53.526","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 21:53:53.535","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 21:53:53.545","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 21:53:53.545","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 21:54:09.124","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:54:09.174","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 21:54:09.986","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 21:54:10.027","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 21:54:10.030","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 21:54:10.030","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 21:54:10.074","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 21:54:10.121","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 21:54:10.122","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:54:10.122","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 21:54:10.123","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 21:54:10.125","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:07:33.328","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:07:33.392","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:07:33.392","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:07:33.392","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:07:33.401","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:07:33.408","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:07:33.408","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:07:50.870","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:07:50.914","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:07:51.757","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:07:51.803","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:07:51.807","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:07:51.807","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:07:51.856","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:07:51.907","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:07:51.908","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:07:51.908","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:07:51.908","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"fatal","timestamp":"2025-11-09 22:07:51.910","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:09:14.294","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:09:14.359","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:09:14.359","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:09:14.359","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:09:14.368","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:09:14.375","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:09:14.375","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:09:31.561","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:09:31.607","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:09:32.433","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:09:32.477","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:09:32.481","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:09:32.481","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:09:32.525","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:09:32.570","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:09:32.570","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:09:32.571","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:09:32.571","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:09:32.724","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"4D27AE09-88DC-7325-8F7B-2724BB27E0DC\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:10:35.560","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:10:35.624","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:10:35.624","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:10:35.624","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:10:35.633","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:10:35.643","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:10:35.643","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:10:52.210","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:10:52.256","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:10:53.078","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:10:53.124","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:10:53.126","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:10:53.126","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:10:53.176","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:10:53.218","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:10:53.219","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:10:53.219","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:10:53.219","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:10:53.367","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"52AFDE4B-E9F1-7DBA-80EB-10A2D64ABA97\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:11:20.977","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:11:21.040","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:11:21.040","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:11:21.040","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:11:21.050","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:11:21.056","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:11:21.056","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:11:37.187","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:11:37.233","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:11:38.011","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:11:38.052","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:11:38.058","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:11:38.058","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:11:38.106","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:11:38.154","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:11:38.154","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:11:38.155","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:11:38.155","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:11:38.295","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"401F488C-ED22-759D-ABE1-8D4D4FE561B9\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:29:52.865","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:29:52.931","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:29:52.931","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:29:52.931","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:29:52.943","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:29:52.950","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:29:52.950","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:30:09.445","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:30:09.492","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:30:10.307","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:30:10.353","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:30:10.358","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:30:10.359","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:30:10.409","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":2,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":3,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:30:10.457","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":3,"success":2}
{"level":"error","timestamp":"2025-11-09 22:30:10.591","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":3,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"6E1EC619-D1D5-7AE9-A8A4-6EA216EA22F8\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-09 22:35:42.497","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-09 22:35:42.562","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-09 22:35:42.562","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-09 22:35:42.562","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-09 22:35:42.572","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-09 22:35:42.579","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-09 22:35:42.579","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-09 22:35:59.538","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:35:59.585","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-09 22:36:00.421","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-09 22:36:00.467","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-09 22:36:00.473","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-09 22:36:00.473","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-09 22:36:00.625","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":4,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-09 22:36:00.631","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-09 22:36:00.632","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":4,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-09 22:36:00.632","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-09 22:36:00.799","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":4,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"69842D8E-77DA-7F94-A8FF-7774F4773C2C\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-10 19:44:24.942","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:44:25.017","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:44:25.017","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:44:25.017","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:44:25.045","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:44:25.060","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:44:25.060","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:44:41.910","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:44:41.956","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:44:42.732","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:44:42.775","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:44:42.778","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:44:42.778","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:44:42.927","caller":"bootstrap/stream.go:20","msg":"✅ Stream bot created from config","botID":5,"botName":"全局Stream机器人(自动创建)","clientID":"05081379-c8ed-4269-9569-f412df4915d6"}
{"level":"error","timestamp":"2025-11-10 19:44:42.937","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:44:42.940","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":5,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 19:44:42.941","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-10 19:44:43.106","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":5,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"E9867D28-B815-7F89-BFD1-9AA04A501355\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-10 19:48:57.153","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:48:57.217","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:48:57.217","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:48:57.217","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:48:57.228","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:48:57.235","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:48:57.235","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:49:14.145","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:49:14.195","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:49:15.015","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:49:15.063","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:49:15.069","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:49:15.069","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:49:15.113","caller":"bootstrap/stream.go:20","msg":"Stream bot already exists","botID":5,"botName":"全局Stream机器人(自动创建)"}
{"level":"error","timestamp":"2025-11-10 19:49:15.162","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:49:15.162","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":5,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 19:49:15.162","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":2,"success":1}
{"level":"error","timestamp":"2025-11-10 19:49:15.311","caller":"runtime/asm_amd64.s:1693","msg":"Stream client start failed","botID":5,"botName":"全局Stream机器人(自动创建)","error":"{\"requestid\":\"7EAC6A6E-E2CC-7029-B967-576BC833A651\",\"code\":\"authFailed\",\"message\":\"鉴权失败\"}","stacktrace":"runtime.goexit\n\tC:/Program Files/Application/go/src/runtime/asm_amd64.s:1693"}
{"level":"info","timestamp":"2025-11-10 19:52:06.492","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:52:06.565","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:52:06.565","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:52:06.565","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:52:06.577","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:52:06.585","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:52:06.585","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:52:24.503","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:52:24.549","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:52:25.349","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:52:25.391","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:52:25.392","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:52:25.392","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:52:25.439","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"error","timestamp":"2025-11-10 19:52:25.493","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:52:25.493","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":0}
{"level":"info","timestamp":"2025-11-10 19:52:57.394","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:52:57.459","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:52:57.459","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:52:57.459","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:52:57.470","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:52:57.478","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:52:57.478","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:53:14.215","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:53:14.258","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:53:15.035","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:53:15.077","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:53:15.078","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:53:15.078","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:53:15.122","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"error","timestamp":"2025-11-10 19:53:15.166","caller":"bootstrap/app.go:38","msg":"Failed to start stream bot","botID":1,"botName":"全局Stream机器人(自动创建)","error":"clientID or clientSecret is empty","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:38\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 19:53:15.166","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":0}
{"level":"info","timestamp":"2025-11-10 19:55:28.810","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"warn","timestamp":"2025-11-10 19:55:28.877","caller":"bootstrap/swagger.go:30","msg":"自动生成 swagger 失败","error":"exit status 1"}
{"level":"info","timestamp":"2025-11-10 19:55:28.877","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 19:55:28.877","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 19:55:28.887","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 19:55:28.895","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 19:55:28.895","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 19:55:45.577","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:55:45.626","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 19:55:46.464","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 19:55:46.512","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 19:55:46.520","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 19:55:46.520","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 19:55:46.566","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 19:55:46.615","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 19:55:46.615","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:10:43.881","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:10:43.971","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:10:43.971","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:10:43.971","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:10:43.980","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:10:43.987","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:10:43.987","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:11:00.163","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:11:00.207","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:11:00.964","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:11:01.009","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:11:01.013","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:11:01.013","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:11:01.058","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:11:01.103","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:11:01.103","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:17:14.204","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:17:14.293","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:17:14.293","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:17:14.293","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:17:14.304","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:17:14.311","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:17:14.311","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:17:30.937","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:17:30.981","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:17:31.788","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:17:31.834","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:17:31.839","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:17:31.839","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:17:31.889","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:17:31.936","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:17:31.936","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:19:44.151","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:19:44.240","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:19:44.240","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:19:44.240","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:19:44.259","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:19:44.269","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:19:44.269","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:20:00.416","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:20:00.461","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:20:01.255","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:20:01.298","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:20:01.300","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:20:01.300","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:20:01.343","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:20:01.387","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:20:01.387","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"fatal","timestamp":"2025-11-10 20:20:01.388","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:28\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 20:21:41.354","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:21:41.441","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:21:41.441","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:21:41.441","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:21:41.451","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:21:41.458","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:21:41.458","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:21:57.567","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:21:57.609","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:21:58.376","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:21:58.420","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:21:58.422","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:21:58.422","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:21:58.466","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:21:58.508","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:21:58.509","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 20:22:57.857","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:22:57.946","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:22:57.946","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:22:57.946","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:22:57.955","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:22:57.962","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:22:57.962","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:23:14.855","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:23:14.906","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:23:15.710","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:23:15.753","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:23:15.757","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:23:15.757","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:23:15.801","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:23:15.845","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:23:15.845","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"fatal","timestamp":"2025-11-10 20:23:15.845","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 20:25:40.308","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:25:40.395","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 20:25:40.395","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 20:25:40.395","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 20:25:40.405","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 20:25:40.411","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 20:25:40.411","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 20:25:57.050","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:25:57.098","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 20:25:57.923","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 20:25:57.967","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 20:25:57.970","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 20:25:57.970","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 20:25:58.019","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 20:25:58.066","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 20:25:58.066","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 21:21:14.436","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 21:21:14.573","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 21:21:14.573","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 21:21:14.573","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 21:21:14.584","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 21:21:14.590","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 21:21:14.590","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 21:21:31.329","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 21:21:31.376","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 21:21:32.227","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 21:21:32.271","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 21:21:32.273","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 21:21:32.273","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 21:21:32.321","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 21:21:32.370","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 21:21:32.371","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 21:26:46.323","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 21:26:46.414","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 21:26:46.414","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 21:26:46.414","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 21:26:46.423","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 21:26:46.430","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 21:26:46.430","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 21:27:03.985","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 21:27:04.026","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 21:27:04.798","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 21:27:04.845","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 21:27:04.850","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 21:27:04.850","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 21:27:04.901","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 21:27:04.953","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 21:27:04.953","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 21:56:10.776","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 21:56:10.911","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 21:56:10.911","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 21:56:10.911","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 21:56:10.923","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 21:56:10.932","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 21:56:10.932","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 21:56:28.214","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 21:56:28.263","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 21:56:29.111","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 21:56:29.154","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 21:56:29.156","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 21:56:29.156","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 21:56:29.204","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 21:56:29.253","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 21:56:29.253","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 22:07:56.292","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:07:56.383","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 22:07:56.383","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 22:07:56.383","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 22:07:56.393","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 22:07:56.400","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 22:07:56.400","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 22:08:14.509","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:08:14.556","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:08:15.391","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 22:08:15.438","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 22:08:15.445","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 22:08:15.445","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:08:15.493","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 22:08:15.540","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 22:08:15.541","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 22:33:41.274","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:33:41.365","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 22:33:41.365","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 22:33:41.365","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 22:33:41.375","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 22:33:41.382","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 22:33:41.382","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 22:33:59.157","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:33:59.205","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:34:00.024","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 22:34:00.071","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 22:34:00.078","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 22:34:00.078","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:34:00.121","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 22:34:00.171","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 22:34:00.172","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 22:34:19.582","caller":"service/dingtalk.go:212","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/oToMessages/batchSend","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"userIds":["010903622624-181076934"],"accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:34:19\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"robotCode\":\"dinglsqvmdgbj5xaidwz\",\"userIds\":[\"010903622624-181076934\"]}"}
{"level":"info","timestamp":"2025-11-10 22:34:19.645","caller":"service/dingtalk.go:212","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"F9A37D6E-3E05-7E57-842D-18A4A52D31E2\",\"code\":\"invalidParameter.robotCode.notExsit\",\"message\":\"错误描述: robot 不存在；解决方案:请确认 robotCode 是否正确；\"}","responseMap":{"code":"invalidParameter.robotCode.notExsit","message":"错误描述: robot 不存在；解决方案:请确认 robotCode 是否正确；","requestid":"F9A37D6E-3E05-7E57-842D-18A4A52D31E2"}}
{"level":"info","timestamp":"2025-11-10 22:43:38.829","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:43:38.921","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 22:43:38.921","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 22:43:38.921","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 22:43:38.931","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 22:43:38.938","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 22:43:38.938","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 22:43:55.684","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:43:55.728","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:43:56.514","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 22:43:56.557","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 22:43:56.557","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 22:43:56.557","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:43:56.601","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 22:43:56.647","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 22:43:56.647","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 22:44:04.899","caller":"service/dingtalk.go:212","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:44:04\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 22:44:04.958","caller":"service/dingtalk.go:212","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"7EB200EF-3A21-7A84-9D88-D8418CAE1E04\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"7EB200EF-3A21-7A84-9D88-D8418CAE1E04"}}
{"level":"info","timestamp":"2025-11-10 22:51:49.508","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:51:49.596","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 22:51:49.596","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 22:51:49.596","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 22:51:49.606","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 22:51:49.613","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 22:51:49.613","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 22:52:05.793","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:52:05.842","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:52:06.692","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 22:52:06.733","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 22:52:06.735","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 22:52:06.735","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:52:06.781","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 22:52:06.826","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 22:52:06.826","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 22:52:10.560","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:52:10\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 22:52:10.622","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"7628BDDF-981F-7EE5-A18F-2760B3996C24\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"7628BDDF-981F-7EE5-A18F-2760B3996C24"}}
{"level":"info","timestamp":"2025-11-10 22:52:37.488","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:52:37.577","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 22:52:37.577","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 22:52:37.577","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 22:52:37.587","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 22:52:37.594","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 22:52:37.594","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 22:52:54.694","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:52:54.740","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 22:52:55.544","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 22:52:55.589","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 22:52:55.593","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 22:52:55.593","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 22:52:55.638","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 22:52:55.686","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 22:52:55.686","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 22:53:03.442","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:53:03\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 22:53:03.496","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"280465B5-C7C8-7F0D-B913-DF854F9B6A5D\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"280465B5-C7C8-7F0D-B913-DF854F9B6A5D"}}
{"level":"info","timestamp":"2025-11-10 22:56:41.503","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:56:41\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 22:56:41.556","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"D8758395-1017-7844-9266-0CC4B4607A77\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"D8758395-1017-7844-9266-0CC4B4607A77"}}
{"level":"info","timestamp":"2025-11-10 22:57:32.237","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:57:32\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 22:57:32.288","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"3C722B86-FD79-708E-8BEE-DAA080F7B119\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"3C722B86-FD79-708E-8BEE-DAA080F7B119"}}
{"level":"info","timestamp":"2025-11-10 22:57:38.183","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 22:57:38\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 22:57:38.235","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"BF5EC148-CDA9-7CBB-8420-B5E34E8B4A94\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"BF5EC148-CDA9-7CBB-8420-B5E34E8B4A94"}}
{"level":"info","timestamp":"2025-11-10 23:04:55.974","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 23:04:56.066","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 23:04:56.066","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 23:04:56.066","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 23:04:56.076","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 23:04:56.083","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 23:04:56.083","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 23:05:11.948","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 23:05:11.991","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 23:05:12.786","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 23:05:12.830","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 23:05:12.832","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 23:05:12.832","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 23:05:12.879","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 23:05:12.924","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 23:05:12.924","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 23:10:02.837","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 23:10:02.927","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 23:10:02.927","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 23:10:02.927","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 23:10:02.937","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 23:10:02.943","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 23:10:02.943","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 23:10:19.403","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 23:10:19.447","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 23:10:20.233","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 23:10:20.276","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 23:10:20.283","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 23:10:20.284","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 23:10:20.330","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 23:10:20.375","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 23:10:20.375","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-10 23:13:39.666","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-10 23:13:39.761","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-10 23:13:39.761","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-10 23:13:39.761","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-10 23:13:39.773","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-10 23:13:39.781","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-10 23:13:39.781","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-10 23:13:55.643","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-10 23:13:55.687","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-10 23:13:56.467","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-10 23:13:56.514","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-10 23:13:56.516","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-10 23:13:56.516","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-10 23:13:56.558","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-10 23:13:56.601","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-10 23:13:56.602","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"fatal","timestamp":"2025-11-10 23:13:56.602","caller":"bootstrap/app.go:43","msg":"服务启动失败","error":"listen tcp :10024: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:43\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-10 23:14:01.180","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 23:14:01\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 23:14:01.232","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"6090A2FE-4DC5-71BA-A0F9-FE32C61D3E2C\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"6090A2FE-4DC5-71BA-A0F9-FE32C61D3E2C"}}
{"level":"info","timestamp":"2025-11-10 23:16:16.714","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 23:16:14\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 23:16:16.772","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"2B218F97-41AE-7D10-B1E2-701D98DDD4D3\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"2B218F97-41AE-7D10-B1E2-701D98DDD4D3"}}
{"level":"info","timestamp":"2025-11-10 23:20:54.664","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 23:20:54\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 23:20:54.723","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"49A6E97C-CA82-70F1-B7F4-A1D4FB93B636\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"49A6E97C-CA82-70F1-B7F4-A1D4FB93B636"}}
{"level":"info","timestamp":"2025-11-10 23:23:10.903","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:23:23.249","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:23:52.658","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:24:33.401","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:24:37.440","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:25:53.814","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:25:55.053","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:25:56.220","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:26:00.432","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:37:01.285","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"eafd4e9a6e...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-10 23:37:01\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-10 23:37:01.341","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"5CE185DD-0517-7AD3-843A-ADF3BB7170A3\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"5CE185DD-0517-7AD3-843A-ADF3BB7170A3"}}
{"level":"info","timestamp":"2025-11-10 23:37:03.339","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:37:04.241","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:37:12.977","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-10 23:53:32.686","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 00:06:25.248","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 00:06:47.121","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 00:07:09.771","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 00:30:34.743","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 00:30:34.837","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 00:30:34.837","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 00:30:34.837","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-11 00:30:34.842","caller":"bootstrap/database.go:14","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:14\ngithub.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-11 00:30:45.279","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 00:30:45.368","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 00:30:45.368","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 00:30:45.368","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"fatal","timestamp":"2025-11-11 00:30:45.374","caller":"bootstrap/database.go:14","msg":"数据库连接失败","error":"dial tcp [::1]:3306: connectex: No connection could be made because the target machine actively refused it.","stacktrace":"github.com/Kevin-Jii/tower-go/bootstrap.InitDatabase\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/database.go:14\ngithub.com/Kevin-Jii/tower-go/bootstrap.Run\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/bootstrap/app.go:22\nmain.main\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/cmd/main.go:29\nruntime.main\n\tC:/Program Files/Application/go/src/runtime/proc.go:285"}
{"level":"info","timestamp":"2025-11-11 00:31:07.181","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 00:31:07.274","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 00:31:07.274","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 00:31:07.274","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 00:31:07.286","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 00:31:07.292","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 00:31:07.292","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 00:31:23.566","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 00:31:23.610","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 00:31:24.406","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 00:31:24.452","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 00:31:24.461","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 00:31:24.461","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 00:31:24.506","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 00:31:24.550","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 00:31:24.550","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 01:49:54.479","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:49:54.569","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 01:49:54.570","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 01:49:54.570","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 01:49:54.592","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 01:49:54.604","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 01:49:54.604","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 01:50:12.103","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:50:12.145","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:50:12.979","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 01:50:13.024","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 01:50:13.030","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 01:50:13.031","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:50:13.078","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 01:50:13.127","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 01:50:13.127","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 01:51:49.423","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:51:49.514","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 01:51:49.515","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 01:51:49.515","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 01:51:49.523","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 01:51:49.529","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 01:51:49.529","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 01:52:06.161","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:52:06.205","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:52:06.988","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 01:52:07.032","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 01:52:07.039","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 01:52:07.039","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:52:07.088","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 01:52:07.136","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 01:52:07.137","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 01:52:10.763","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:52:10.853","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 01:52:10.853","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 01:52:10.853","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 01:52:10.862","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 01:52:10.868","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 01:52:10.868","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 01:52:28.180","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:52:28.229","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:52:29.068","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 01:52:29.111","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 01:52:29.113","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 01:52:29.113","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:52:29.157","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 01:52:29.206","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 01:52:29.206","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 01:56:57.503","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:56:57.599","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 01:56:57.599","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 01:56:57.599","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 01:56:57.607","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 01:56:57.613","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 01:56:57.613","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 01:57:14.252","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:57:14.301","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 01:57:15.085","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 01:57:15.129","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 01:57:15.134","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 01:57:15.134","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 01:57:15.178","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 01:57:15.223","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 01:57:15.223","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 02:03:09.060","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 02:03:09.149","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 02:03:09.149","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 02:03:09.149","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 02:03:09.158","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 02:03:09.164","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 02:03:09.164","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 02:03:25.566","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 02:03:25.614","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 02:03:26.407","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 02:03:26.454","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 02:03:26.457","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 02:03:26.457","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 02:03:26.505","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 02:03:26.549","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 02:03:26.549","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 02:29:57.115","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 02:29:57.209","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 02:29:57.210","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 02:29:57.210","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 02:29:57.220","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 02:29:57.226","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 02:29:57.226","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 02:30:12.948","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 02:30:12.995","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 02:30:13.772","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 02:30:13.815","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 02:30:13.817","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 02:30:13.817","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 02:30:13.859","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 02:30:13.903","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 02:30:13.904","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-11 03:56:43.891","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 03:56:46.507","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"96a1cdd6ac...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-11 03:56:46\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-11 03:56:46.565","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"32A310EB-EB67-7CF7-9ED6-20937CF04ACE\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"32A310EB-EB67-7CF7-9ED6-20937CF04ACE"}}
{"level":"info","timestamp":"2025-11-11 04:22:29.252","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 04:22:30.279","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 04:22:32.218","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 04:22:33.280","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 04:22:34.284","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-11 21:59:35.766","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-11 21:59:35.923","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-11 21:59:35.923","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-11 21:59:35.923","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-11 21:59:36.021","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-11 21:59:36.039","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-11 21:59:36.039","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-11 21:59:52.160","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-11 21:59:52.203","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-11 21:59:52.964","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-11 21:59:53.016","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-11 21:59:53.022","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-11 21:59:53.022","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-11 21:59:53.069","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-11 21:59:53.112","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-11 21:59:53.112","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 15:04:04.247","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 15:04:04.399","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 15:04:04.399","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 15:04:04.399","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 15:04:04.411","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 15:04:04.418","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 15:04:04.418","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 15:04:20.727","caller":"bootstrap/migrate.go:40","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 15:04:20.778","caller":"bootstrap/migrate.go:45","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 15:04:21.580","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 15:04:21.625","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 15:04:21.631","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 15:04:21.632","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 15:04:21.677","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 15:04:21.727","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 15:04:21.728","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 15:04:48.798","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 15:05:04.731","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 16:26:00.357","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 16:36:12.784","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 百威  \\\\n**报菜数量:** 1  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:36:12  \\\\n**备注:** 22  \\\\n\\\\n---\\\\n*报菜记录ID: 1*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:36:12.843","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"EFF5B0FE-B2C1-7B22-9A44-29358AC0ADDC\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"EFF5B0FE-B2C1-7B22-9A44-29358AC0ADDC"}}
{"level":"error","timestamp":"2025-11-12 16:36:12.843","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:36:12.844","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":1,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:36:43.627","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 小青菜3  \\\\n**报菜数量:** 15  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:36:43  \\\\n\\\\n---\\\\n*报菜记录ID: 2*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:36:43.681","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"DC8B3ED2-9AEE-7F62-8251-3B68EDD7D336\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"DC8B3ED2-9AEE-7F62-8251-3B68EDD7D336"}}
{"level":"error","timestamp":"2025-11-12 16:36:43.681","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:36:43.681","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":2,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.001","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 小青菜3  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:32  \\\\n**备注:** 21434343  \\\\n\\\\n---\\\\n*报菜记录ID: 3*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.054","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"7FB23DE7-7167-7320-9924-2EECB52CE27D\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"7FB23DE7-7167-7320-9924-2EECB52CE27D"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.054","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.054","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":3,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.078","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 32  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:32  \\\\n**备注:** 43443  \\\\n\\\\n---\\\\n*报菜记录ID: 4*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.130","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"6DFAFDFA-9065-7A3F-8427-42ACC9A8706A\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"6DFAFDFA-9065-7A3F-8427-42ACC9A8706A"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.131","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.131","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":4,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.241","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 5435345  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n**备注:** 3243  \\\\n\\\\n---\\\\n*报菜记录ID: 5*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.295","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"66021D80-7F4D-7AD2-9982-1CCF0F8FB729\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"66021D80-7F4D-7AD2-9982-1CCF0F8FB729"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.295","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.295","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":5,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.388","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 白打  \\\\n**报菜数量:** 1  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n**备注:** 43  \\\\n\\\\n---\\\\n*报菜记录ID: 6*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.443","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"EA6559E3-6C40-716D-A086-750B478B67B1\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"EA6559E3-6C40-716D-A086-750B478B67B1"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.443","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.443","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":6,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.534","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 和爱  \\\\n**报菜数量:** 1  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n\\\\n---\\\\n*报菜记录ID: 7*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.586","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"7A1CCC94-A76C-7604-B512-A63C1C838DBE\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"7A1CCC94-A76C-7604-B512-A63C1C838DBE"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.586","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.586","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":7,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.702","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 搭撒大师  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n\\\\n---\\\\n*报菜记录ID: 8*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.761","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"C698AA1E-54EB-7633-A808-D2AA8A8143CA\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"C698AA1E-54EB-7633-A808-D2AA8A8143CA"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.762","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.763","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":8,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:33.850","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 32法师道昉44  \\\\n**报菜数量:** 1  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n\\\\n---\\\\n*报菜记录ID: 9*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:33.905","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"22B2E47E-BE77-7E66-B4F4-0B86262E003D\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"22B2E47E-BE77-7E66-B4F4-0B86262E003D"}}
{"level":"error","timestamp":"2025-11-12 16:57:33.905","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:33.905","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":9,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:34.010","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 道昉的  \\\\n**报菜数量:** 5  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n\\\\n---\\\\n*报菜记录ID: 10*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:34.070","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"FE473CBF-24BB-7951-8FE3-85AF761C72FB\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"FE473CBF-24BB-7951-8FE3-85AF761C72FB"}}
{"level":"error","timestamp":"2025-11-12 16:57:34.070","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:34.070","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":10,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:34.163","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** postman  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:33  \\\\n\\\\n---\\\\n*报菜记录ID: 11*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:34.219","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"C8B9917A-1FC3-7F29-B39F-F52528F8D2A2\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"C8B9917A-1FC3-7F29-B39F-F52528F8D2A2"}}
{"level":"error","timestamp":"2025-11-12 16:57:34.220","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:34.220","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":11,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:57:34.342","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 寡凫单鹄  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:57:34  \\\\n\\\\n---\\\\n*报菜记录ID: 12*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:57:34.394","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"2E72DA28-762E-7F34-A458-CA18C1CD6F14\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"2E72DA28-762E-7F34-A458-CA18C1CD6F14"}}
{"level":"error","timestamp":"2025-11-12 16:57:34.394","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:57:34.394","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":12,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:18.654","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 小青菜3  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:18  \\\\n**备注:** 534  \\\\n\\\\n---\\\\n*报菜记录ID: 13*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:18.704","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"5187000E-AFED-720A-829A-2CEA4A75AD6B\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"5187000E-AFED-720A-829A-2CEA4A75AD6B"}}
{"level":"error","timestamp":"2025-11-12 16:59:18.705","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:18.706","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":13,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:18.750","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 32  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:18  \\\\n**备注:** 543  \\\\n\\\\n---\\\\n*报菜记录ID: 14*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:18.802","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"160185E1-B6DF-7413-A577-99BDC5B43A24\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"160185E1-B6DF-7413-A577-99BDC5B43A24"}}
{"level":"error","timestamp":"2025-11-12 16:59:18.802","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:18.802","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":14,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:18.910","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 5435345  \\\\n**报菜数量:** 4  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:18  \\\\n\\\\n---\\\\n*报菜记录ID: 15*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:18.969","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"600873E4-C0D1-798E-A94A-5220EBBCDC44\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"600873E4-C0D1-798E-A94A-5220EBBCDC44"}}
{"level":"error","timestamp":"2025-11-12 16:59:18.969","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:18.969","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":15,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:19.058","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 寡凫单鹄  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:18  \\\\n**备注:** 543  \\\\n\\\\n---\\\\n*报菜记录ID: 16*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:19.108","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"8E8FF84A-356E-7031-BDD8-F41C2B830A3A\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"8E8FF84A-356E-7031-BDD8-F41C2B830A3A"}}
{"level":"error","timestamp":"2025-11-12 16:59:19.109","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:19.109","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":16,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:19.204","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 和爱  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:19  \\\\n**备注:** 434  \\\\n\\\\n---\\\\n*报菜记录ID: 17*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:19.250","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"8D4346BB-92D0-760A-AB21-BA47E425E7AC\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"8D4346BB-92D0-760A-AB21-BA47E425E7AC"}}
{"level":"error","timestamp":"2025-11-12 16:59:19.250","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:19.250","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":17,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:19.343","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 白打  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:19  \\\\n**备注:** 5435665  \\\\n\\\\n---\\\\n*报菜记录ID: 18*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:19.391","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"DA18EF1F-7966-7AAA-9094-5B7E4294BF7C\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"DA18EF1F-7966-7AAA-9094-5B7E4294BF7C"}}
{"level":"error","timestamp":"2025-11-12 16:59:19.391","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:19.391","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":18,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:19.494","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** 32法师道昉44  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:19  \\\\n**备注:** 5435  \\\\n\\\\n---\\\\n*报菜记录ID: 19*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:19.540","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"8536097E-8BF7-709B-913D-C66C72B3F98D\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"8536097E-8BF7-709B-913D-C66C72B3F98D"}}
{"level":"error","timestamp":"2025-11-12 16:59:19.540","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:19.540","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":19,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:19.630","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"49d15833d2...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**菜品名称:** postman  \\\\n**报菜数量:** 3  \\\\n**门店名称:** 总部  \\\\n**操作人员:** admin  \\\\n**报菜时间:** 2025-11-12 16:59:19  \\\\n**备注:** 5435  \\\\n\\\\n---\\\\n*报菜记录ID: 20*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 16:59:19.676","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"0364DE3A-78BF-75C6-8E0E-D8A605D18A2E\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"0364DE3A-78BF-75C6-8E0E-D8A605D18A2E"}}
{"level":"error","timestamp":"2025-11-12 16:59:19.676","caller":"service/menu_report_listener.go:46","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:46\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 16:59:19.676","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report","reportID":20,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 16:59:51.118","caller":"service/menu_report_listener.go:46","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 17:42:09.319","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 17:42:09.410","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 17:42:09.410","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 17:42:09.410","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 17:42:09.437","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 17:42:09.450","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 17:42:09.450","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 17:42:28.165","caller":"bootstrap/migrate.go:41","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 17:42:28.209","caller":"bootstrap/migrate.go:46","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 17:42:29.134","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 17:42:29.176","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 17:42:29.176","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 17:42:29.176","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 17:42:29.278","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 17:42:29.320","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 17:42:29.320","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 17:53:12.879","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 17:53:12.999","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 17:53:12.999","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 17:53:12.999","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 17:53:13.013","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 17:53:13.022","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 17:53:13.022","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 17:53:32.686","caller":"bootstrap/migrate.go:41","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 17:53:32.730","caller":"bootstrap/migrate.go:46","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 17:53:33.585","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 17:53:33.631","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 17:53:33.634","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 17:53:33.634","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 17:53:33.680","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 17:53:33.728","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 17:53:33.729","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 18:19:50.015","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 18:19:50.157","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 18:19:50.157","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 18:19:50.157","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 18:19:50.166","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 18:19:50.175","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 18:19:50.175","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 18:20:11.084","caller":"bootstrap/migrate.go:42","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 18:20:11.131","caller":"bootstrap/migrate.go:47","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 18:20:12.058","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 18:20:12.105","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 18:20:12.111","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 18:20:12.111","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 18:20:12.160","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 18:20:12.209","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 18:20:12.209","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 18:25:20.289","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 18:25:20.385","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 18:25:20.385","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 18:25:20.385","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 18:25:20.397","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 18:25:20.403","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 18:25:20.403","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 18:25:41.914","caller":"bootstrap/migrate.go:42","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 18:25:41.959","caller":"bootstrap/migrate.go:47","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 18:25:42.876","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 18:25:42.921","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 18:25:42.925","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 18:25:42.925","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 18:25:42.973","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 18:25:43.021","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 18:25:43.022","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 18:26:08.405","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 18:26:08.496","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 18:26:08.496","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 18:26:08.496","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 18:26:08.505","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 18:26:08.512","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 18:26:08.512","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 18:26:30.269","caller":"bootstrap/migrate.go:42","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 18:26:30.319","caller":"bootstrap/migrate.go:47","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 18:26:31.254","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 18:26:31.298","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 18:26:31.299","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 18:26:31.299","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 18:26:31.344","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 18:26:31.394","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 18:26:31.394","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 21:38:25.276","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 21:38:25.376","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 21:38:25.376","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 21:38:25.376","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 21:38:25.388","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 21:38:25.394","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 21:38:25.394","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 21:38:45.406","caller":"bootstrap/migrate.go:42","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 21:38:45.458","caller":"bootstrap/migrate.go:47","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 21:38:46.331","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 21:38:46.375","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 21:38:46.379","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 21:38:46.379","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 21:38:46.427","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 21:38:46.476","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 21:38:46.477","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 21:39:00.998","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"7100462abd...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**门店名称:** 总部\\\\n**操作人员:** admin\\\\n**报菜时间:** 2025-11-12 21:39:00\\\\n\\\\n**报菜明细:**\\\\n\\\\n---\\\\n*报菜记录单ID: 7*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 21:39:01.054","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"F1C6C594-7948-74EC-9BB9-5E8943EEA615\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"F1C6C594-7948-74EC-9BB9-5E8943EEA615"}}
{"level":"error","timestamp":"2025-11-12 21:39:01.054","caller":"service/menu_report_listener.go:45","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportOrderCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:45\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 21:39:01.054","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report order","orderID":7,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 21:39:40.284","caller":"service/menu_report_listener.go:45","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 21:43:45.041","caller":"service/menu_report_listener.go:45","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 21:44:10.611","caller":"service/menu_report_listener.go:45","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 21:49:25.291","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 21:49:28.514","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"7100462abd...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-12 21:49:28\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 21:49:28.573","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"E976A7FB-0784-73C2-B676-A446B910D8F6\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"E976A7FB-0784-73C2-B676-A446B910D8F6"}}
{"level":"info","timestamp":"2025-11-12 21:49:29.804","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 21:49:33.165","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 21:49:34.220","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 21:49:34.624","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 21:49:35.512","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 21:49:37.595","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:00:23.303","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 22:00:23.397","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 22:00:23.397","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 22:00:23.397","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 22:00:23.408","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 22:00:23.415","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 22:00:23.415","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 22:00:43.437","caller":"bootstrap/migrate.go:43","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 22:00:43.484","caller":"bootstrap/migrate.go:48","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 22:00:44.351","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 22:00:44.393","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 22:00:44.393","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 22:00:44.395","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 22:00:44.438","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 22:00:44.483","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 22:00:44.484","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 22:01:41.532","caller":"service/dingtalk_notifier.go:39","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 22:01:41.606","caller":"service/menu_report_listener.go:45","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 22:02:05.606","caller":"service/dingtalk_notifier.go:39","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 22:02:05.698","caller":"service/menu_report_listener.go:45","msg":"No enabled bots for store","storeID":1000}
{"level":"info","timestamp":"2025-11-12 22:04:05.428","caller":"bootstrap/logger.go:23","msg":"日志系统初始化完成"}
{"level":"info","timestamp":"2025-11-12 22:04:05.523","caller":"bootstrap/swagger.go:33","msg":"swagger 文档已自动生成"}
{"level":"info","timestamp":"2025-11-12 22:04:05.523","caller":"bootstrap/config.go:22","msg":"使用环境变量端口","port":10024}
{"level":"info","timestamp":"2025-11-12 22:04:05.523","caller":"bootstrap/config.go:25","msg":"配置加载完成"}
{"level":"info","timestamp":"2025-11-12 22:04:05.531","caller":"bootstrap/database.go:16","msg":"数据库连接成功"}
{"level":"info","timestamp":"2025-11-12 22:04:05.539","caller":"redis/redis.go:39","msg":"Redis 连接成功","addr":"localhost:6379"}
{"level":"info","timestamp":"2025-11-12 22:04:05.539","caller":"bootstrap/redis.go:18","msg":"Redis 缓存已启用"}
{"level":"info","timestamp":"2025-11-12 22:04:25.498","caller":"bootstrap/migrate.go:43","msg":"数据表迁移完成"}
{"level":"info","timestamp":"2025-11-12 22:04:25.541","caller":"bootstrap/migrate.go:48","msg":"菜品分类数据迁移完成"}
{"level":"info","timestamp":"2025-11-12 22:04:26.432","caller":"seeding/seed.go:117","msg":"超级管理员已存在，跳过创建","user_id":999}
{"level":"info","timestamp":"2025-11-12 22:04:26.475","caller":"seeding/seed.go:269","msg":"所有门店均已具备编码"}
{"level":"info","timestamp":"2025-11-12 22:04:26.480","caller":"seeding/seed_dingtalk_menus.go:20","msg":"钉钉管理菜单已存在，跳过初始化","count":1}
{"level":"info","timestamp":"2025-11-12 22:04:26.480","caller":"bootstrap/app.go:29","msg":"会话管理初始化完成"}
{"level":"info","timestamp":"2025-11-12 22:04:26.526","caller":"bootstrap/stream.go:20","msg":"⏭️ Stream bot already exists, skipping creation","count":1}
{"level":"info","timestamp":"2025-11-12 22:04:26.574","caller":"bootstrap/stream.go:42","msg":"Stream bot started successfully","botID":1,"botName":"全局Stream机器人(自动创建)"}
{"level":"info","timestamp":"2025-11-12 22:04:26.575","caller":"bootstrap/app.go:38","msg":"Stream clients initialized","total":1,"success":1}
{"level":"info","timestamp":"2025-11-12 22:04:30.398","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"7100462abd...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-12 22:04:30\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 22:04:30.457","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"073FF3FB-577C-7DEF-A579-B1B2407E5B92\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"073FF3FB-577C-7DEF-A579-B1B2407E5B92"}}
{"level":"info","timestamp":"2025-11-12 22:04:31.968","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"7100462abd...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"🔔 机器人测试消息\\\\n\\\\n发送时间: 2025-11-12 22:04:31\\\",\\\"title\\\":\\\"机器人测试\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 22:04:32.023","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"4750B1F1-2B81-727B-88B5-FC65DCB1B871\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"4750B1F1-2B81-727B-88B5-FC65DCB1B871"}}
{"level":"info","timestamp":"2025-11-12 22:04:34.081","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:05:00.330","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"7100462abd...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"### 📋 新报菜通知\\\\n\\\\n**门店**: 总部\\\\n\\\\n**操作员**: %!s(MISSING)\\\\n\\\\n**报菜品项**:\\\\n- **小青菜3**: 3 份\\\\n- **32**: 3 份\\\\n- **5435345**: 2 份\\\\n- **白打**: 3 份\\\\n- **和爱**: 2 份\\\\n- **32法师道昉44**: 3 份\\\\n- **postman**: 2 份\\\\n- **寡凫单鹄**: 2 份\\\\n- **小青菜3**: 3 份\\\\n- **32**: 3 份\\\\n- **5435345**: 2 份\\\\n- **白打**: 3 份\\\\n- **和爱**: 2 份\\\\n- **32法师道昉44**: 3 份\\\\n- **postman**: 2 份\\\\n- **寡凫单鹄**: 2 份\\\\n\\\\n**时间**: 2025-11-12 22:04:59\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 22:05:00.384","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"7440BF1E-E3B5-7FB0-8F5F-0D694CB0989A\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"7440BF1E-E3B5-7FB0-8F5F-0D694CB0989A"}}
{"level":"error","timestamp":"2025-11-12 22:05:00.384","caller":"service/dingtalk_notifier.go:39","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportNotifier).sendMenuReportNotification.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/dingtalk_notifier.go:39"}
{"level":"info","timestamp":"2025-11-12 22:05:00.403","caller":"service/dingtalk.go:213","msg":"Sending stream message to DingTalk API","url":"https://api.dingtalk.com/v1.0/robot/groupMessages/send","robotCode":"dinglsqvmdgbj5xaidwz","msgKey":null,"openConversationIds":"[] (broadcast to all groups)","accessTokenPreview":"7100462abd...","requestBody":"{\"msgKey\":\"sampleMarkdown\",\"msgParam\":\"{\\\"markdown\\\":{\\\"text\\\":\\\"## 📋 新报菜通知\\\\n\\\\n**门店名称:** 总部\\\\n**操作人员:** admin\\\\n**报菜时间:** 2025-11-12 22:04:59\\\\n\\\\n**报菜明细:**\\\\n- **小青菜3**: 数量 3\\\\n- **32**: 数量 3\\\\n- **5435345**: 数量 2\\\\n- **白打**: 数量 3\\\\n- **和爱**: 数量 2\\\\n- **32法师道昉44**: 数量 3\\\\n- **postman**: 数量 2\\\\n- **寡凫单鹄**: 数量 2\\\\n- **小青菜3**: 数量 3\\\\n- **32**: 数量 3\\\\n- **5435345**: 数量 2\\\\n- **白打**: 数量 3\\\\n- **和爱**: 数量 2\\\\n- **32法师道昉44**: 数量 3\\\\n- **postman**: 数量 2\\\\n- **寡凫单鹄**: 数量 2\\\\n\\\\n---\\\\n*报菜记录单ID: 13*\\\",\\\"title\\\":\\\"📋 新报菜通知\\\"}}\",\"openConversationIds\":[],\"robotCode\":\"dinglsqvmdgbj5xaidwz\"}"}
{"level":"info","timestamp":"2025-11-12 22:05:00.456","caller":"service/dingtalk.go:213","msg":"Received response from DingTalk API","statusCode":400,"responseBody":"{\"requestid\":\"21066B6D-08BE-7DD4-B134-6572836FB121\",\"code\":\"invalidParameter.param.invalid\",\"message\":\"参数不合法\"}","responseMap":{"code":"invalidParameter.param.invalid","message":"参数不合法","requestid":"21066B6D-08BE-7DD4-B134-6572836FB121"}}
{"level":"error","timestamp":"2025-11-12 22:05:00.456","caller":"service/menu_report_listener.go:45","msg":"Failed to send to bot","botID":1,"botType":"stream","error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/service.(*MenuReportEventListener).OnMenuReportOrderCreated\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/service/menu_report_listener.go:45\ngithub.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"error","timestamp":"2025-11-12 22:05:00.456","caller":"events/event_bus.go:84","msg":"Failed to broadcast menu report order","orderID":13,"storeID":999,"error":"dingtalk api error: code=invalidParameter.param.invalid, msg=参数不合法","stacktrace":"github.com/Kevin-Jii/tower-go/utils/events.(*EventBus).PublishAsync.func1\n\tC:/Users/Administrator/Desktop/xdAdmin/tower-go/utils/events/event_bus.go:84"}
{"level":"info","timestamp":"2025-11-12 22:06:00.064","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:00.162","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:20.955","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:21.042","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:32.153","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:32.246","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:44.088","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
{"level":"info","timestamp":"2025-11-12 22:06:44.175","caller":"service/dingtalk.go:166","msg":"DingTalk message sent successfully","botID":6}
